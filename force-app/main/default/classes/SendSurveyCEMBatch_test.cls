@isTest
public class SendSurveyCEMBatch_test {
    @isTest 
    static void testBatchEmpty() {
        Test.startTest();
        Database.executeBatch(new SendSurveyCEMBatch('AUDI','YESTERDAY'));
        test.stopTest();
    }
    
    @isTest 
    static void testBatchAudi() {
        //AUDI
        Account cliente = CreaObjetos.creaCuentaPersonal('pruebaAudi', 'pruebaAudi');
        insert cliente;
        Concesionario__c conce = CreaObjetos.creaConcesionario('169');
        insert conce;
        Centro__c centro = CreaObjetos.creaCentro(conce.Id);
        Gestion_encuesta__c gEncuesta = CreaObjetos.creaGestionEncuesta('AUDI', centro.Id, conce.Id);
        insert gEncuesta;
        //CEM AUDI Venta
        Encuesta__c survey  = CreaObjetos.creaEncuesta('1', 'AUDI', cliente.Id, conce.Id, null, gEncuesta.id, 'CEM');
        survey.Fecha_segundo_envio_real__c = datetime.now().addDays(-7);
        insert survey;
        List<Respuesta_encuesta__c> lstAnswers = new List<Respuesta_encuesta__c>();
        Respuesta_encuesta__c answer = new Respuesta_encuesta__c();
        answer.Encuesta__c = survey.Id;
        answer.Titulo__c = 'q003';
        answer.Codigo_de_pregunta__c = '';
        answer.Codigo_de_la_respuesta__c = '';
        answer.Respuesta__c = survey.Id;
        lstAnswers.add(answer);
        Respuesta_encuesta__c answer1 = new Respuesta_encuesta__c();
        answer1.Encuesta__c = survey.Id;
        answer1.Titulo__c = 'q001';
        answer1.Codigo_de_pregunta__c = '';
        answer1.Codigo_de_la_respuesta__c = '';
        answer1.Respuesta__c = 'Yep';
        lstAnswers.add(answer1);
        Respuesta_encuesta__c answer2 = new Respuesta_encuesta__c();
        answer2.Encuesta__c = survey.Id;
        answer2.Titulo__c = 'q002';
        answer2.Codigo_de_pregunta__c = '';
        answer2.Codigo_de_la_respuesta__c = '';
        answer2.Respuesta__c = 'Nope';
        lstAnswers.add(answer2);
        Respuesta_encuesta__c answer3 = new Respuesta_encuesta__c();
        answer3.Encuesta__c = survey.Id;
        answer3.Titulo__c = 'Qversion';
        answer3.Codigo_de_pregunta__c = '';
        answer3.Codigo_de_la_respuesta__c = '';
        answer3.Respuesta__c = 'v001';
        lstAnswers.add(answer3);
        Respuesta_encuesta__c answer4 = new Respuesta_encuesta__c();
        answer4.Encuesta__c = survey.Id;
        answer4.Titulo__c = 'PublicationOnInternet';
        answer4.Codigo_de_pregunta__c = '';
        answer4.Codigo_de_la_respuesta__c = '1';
        answer4.Respuesta__c = 'v001';
        lstAnswers.add(answer4);
        Respuesta_encuesta__c answer5 = new Respuesta_encuesta__c();
        answer5.Encuesta__c = survey.Id;
        answer5.Titulo__c = 'e1c';
        answer5.Codigo_de_pregunta__c = '';
        answer5.Codigo_de_la_respuesta__c = 'Pablo';
        answer5.Respuesta__c = 'Pablo';
        lstAnswers.add(answer5);
        insert lstAnswers;
        //CEM-Manuales AUDI Venta
        Encuesta__c survey1  = CreaObjetos.creaEncuesta('1', 'AUDI', null, conce.Id, null, gEncuesta.id,'CEM_Manuales');
        survey1.Tipo_Encuesta__c='Externo';
        insert survey1;
        List<Respuesta_encuesta__c> lstAnswers1 = new List<Respuesta_encuesta__c>();
        Respuesta_encuesta__c answerb = new Respuesta_encuesta__c();
        answerb.Encuesta__c = survey1.Id;
        answerb.Titulo__c = 'q003';
        answerb.Codigo_de_pregunta__c = '';
        answerb.Codigo_de_la_respuesta__c = '';
        answerb.Respuesta__c = survey1.Id;
        lstAnswers1.add(answerb);
        Respuesta_encuesta__c answer1b = new Respuesta_encuesta__c();
        answer1b.Encuesta__c = survey1.Id;
        answer1b.Titulo__c = 'q001';
        answer1b.Codigo_de_pregunta__c = '';
        answer1b.Codigo_de_la_respuesta__c = 'Yep';
        answer1b.Respuesta__c = 'Yep';
        lstAnswers1.add(answer1b);
        Respuesta_encuesta__c answer2b = new Respuesta_encuesta__c();
        answer2b.Encuesta__c = survey1.Id;
        answer2b.Titulo__c = 'q002';
        answer2b.Codigo_de_pregunta__c = '';
        answer2b.Codigo_de_la_respuesta__c = 'Nope';
        answer2b.Respuesta__c = 'Nope';
        lstAnswers1.add(answer2b);
        Respuesta_encuesta__c answer3b = new Respuesta_encuesta__c();
        answer3b.Encuesta__c = survey1.Id;
        answer3b.Titulo__c = 'Qversion';
        answer3b.Codigo_de_pregunta__c = '';
        answer3b.Codigo_de_la_respuesta__c = 'v001';
        answer3b.Respuesta__c = 'v001';
        lstAnswers1.add(answer3b);
        insert lstAnswers1;
        //CEM AUDI Pase de taller
        Encuesta__c survey2  = CreaObjetos.creaEncuesta('2', 'AUDI', cliente.Id, conce.Id, null, gEncuesta.id, 'CEM');
        survey2.Tipo_de_Operacion__c='Pase de taller';
        insert survey2;
        List<Respuesta_encuesta__c> lstAnswers2 = new List<Respuesta_encuesta__c>();
        Respuesta_encuesta__c answerc = new Respuesta_encuesta__c();
        answerc.Encuesta__c = survey2.Id;
        answerc.Titulo__c = 'q003';
        answerc.Codigo_de_pregunta__c = '';
        answerc.Codigo_de_la_respuesta__c = '';
        answerc.Respuesta__c = survey2.Id;
        lstAnswers2.add(answerc);
        Respuesta_encuesta__c answer1c = new Respuesta_encuesta__c();
        answer1c.Encuesta__c = survey2.Id;
        answer1c.Titulo__c = 'q001';
        answer1c.Codigo_de_pregunta__c = '';
        answer1c.Codigo_de_la_respuesta__c = '';
        answer1c.Respuesta__c = 'Yep';
        lstAnswers2.add(answer1c);
        Respuesta_encuesta__c answer2c = new Respuesta_encuesta__c();
        answer2c.Encuesta__c = survey2.Id;
        answer2c.Titulo__c = 'q002';
        answer2c.Codigo_de_pregunta__c = '';
        answer2c.Codigo_de_la_respuesta__c = '';
        answer2c.Respuesta__c = 'Nope';
        lstAnswers2.add(answer2c);
        Respuesta_encuesta__c answer3c = new Respuesta_encuesta__c();
        answer3c.Encuesta__c = survey2.Id;
        answer3c.Titulo__c = 'Qversion';
        answer3c.Codigo_de_pregunta__c = '';
        answer3c.Codigo_de_la_respuesta__c = '';
        answer3c.Respuesta__c = 'v001';
        lstAnswers2.add(answer3c);
        insert lstAnswers2;
        //CEM-Manuales AUDI Venta
        Encuesta__c survey3  = CreaObjetos.creaEncuesta('1', 'AUDI', null, conce.Id, null, gEncuesta.id,'CEM_Manuales');
        survey3.Tipo_Encuesta__c='Externo';
        survey3.Tipo_de_Operacion__c='Pase de taller';
        insert survey3;
        List<Respuesta_encuesta__c> lstAnswers3 = new List<Respuesta_encuesta__c>();
        Respuesta_encuesta__c answerd = new Respuesta_encuesta__c();
        answerd.Encuesta__c = survey3.Id;
        answerd.Titulo__c = 'q003';
        answerd.Codigo_de_pregunta__c = '';
        answerd.Codigo_de_la_respuesta__c = '';
        answerd.Respuesta__c = survey3.Id;
        lstAnswers3.add(answerd);
        Respuesta_encuesta__c answer1d = new Respuesta_encuesta__c();
        answer1d.Encuesta__c = survey3.Id;
        answer1d.Titulo__c = 'q001';
        answer1d.Codigo_de_pregunta__c = '';
        answer1d.Codigo_de_la_respuesta__c = 'Yep';
        answer1d.Respuesta__c = 'Yep';
        lstAnswers3.add(answer1d);
        Respuesta_encuesta__c answer2d = new Respuesta_encuesta__c();
        answer2d.Encuesta__c = survey3.Id;
        answer2d.Titulo__c = 'q002';
        answer2d.Codigo_de_pregunta__c = '';
        answer2d.Codigo_de_la_respuesta__c = 'Nope';
        answer2d.Respuesta__c = 'Nope';
        lstAnswers3.add(answer2d);
        Respuesta_encuesta__c answer3d = new Respuesta_encuesta__c();
        answer3d.Encuesta__c = survey3.Id;
        answer3d.Titulo__c = 'Qversion';
        answer3d.Codigo_de_pregunta__c = '';
        answer3d.Codigo_de_la_respuesta__c = 'v001';
        answer3d.Respuesta__c = 'v001';
        lstAnswers3.add(answer3d);
        insert lstAnswers3;
        
        Test.startTest();
        Database.executeBatch(new SendSurveyCEMBatch('AUDI','YESTERDAY'));
        test.stopTest();
        
    }
    @isTest 
    static void testBatchAudi1() {
        //AUDI
        Account cliente = CreaObjetos.creaCuentaPersonal('pruebaAudi', 'pruebaAudi');
        insert cliente;
        Concesionario__c conce = CreaObjetos.creaConcesionario('169');
        insert conce;
        Centro__c centro = CreaObjetos.creaCentro(conce.Id);
        Gestion_encuesta__c gEncuesta = CreaObjetos.creaGestionEncuesta('AUDI', centro.Id, conce.Id);
        insert gEncuesta;
        //CEM AUDI Venta
        Encuesta__c survey  = CreaObjetos.creaEncuesta('1', 'AUDI', cliente.Id, conce.Id, null, gEncuesta.id, 'CEM');
        survey.Fecha_segundo_envio_real__c = datetime.now().addDays(-7);
        insert survey;
        List<Respuesta_encuesta__c> lstAnswers = new List<Respuesta_encuesta__c>();
        Respuesta_encuesta__c answer = new Respuesta_encuesta__c();
        answer.Encuesta__c = survey.Id;
        answer.Titulo__c = 'q001';
        answer.Codigo_de_pregunta__c = '';
        answer.Codigo_de_la_respuesta__c = '';
        answer.Respuesta__c = survey.Id;
        lstAnswers.add(answer);
        Respuesta_encuesta__c answer1 = new Respuesta_encuesta__c();
        answer1.Encuesta__c = survey.Id;
        answer1.Titulo__c = 'q001a';
        answer1.Codigo_de_pregunta__c = '';
        answer1.Codigo_de_la_respuesta__c = '';
        answer1.Respuesta__c = survey.Id;
        lstAnswers.add(answer1);
        Respuesta_encuesta__c answer2 = new Respuesta_encuesta__c();
        answer2.Encuesta__c = survey.Id;
        answer2.Titulo__c = 'q001a_na';
        answer2.Codigo_de_pregunta__c = '';
        answer2.Codigo_de_la_respuesta__c = '';
        answer2.Respuesta__c = survey.Id;
        lstAnswers.add(answer2);
        Respuesta_encuesta__c answer3 = new Respuesta_encuesta__c();
        answer3.Encuesta__c = survey.Id;
        answer3.Titulo__c = 'q001a_coded';
        answer3.Codigo_de_pregunta__c = '';
        answer3.Codigo_de_la_respuesta__c = '';
        answer3.Respuesta__c = survey.Id;
        lstAnswers.add(answer3);
        Respuesta_encuesta__c answer4 = new Respuesta_encuesta__c();
        answer4.Encuesta__c = survey.Id;
        answer4.Titulo__c = 'q002';
        answer4.Codigo_de_pregunta__c = '';
        answer4.Codigo_de_la_respuesta__c = '';
        answer4.Respuesta__c = survey.Id;
        lstAnswers.add(answer4);
        Respuesta_encuesta__c answer5 = new Respuesta_encuesta__c();
        answer5.Encuesta__c = survey.Id;
        answer5.Titulo__c = 'q002a';
        answer5.Codigo_de_pregunta__c = '';
        answer5.Codigo_de_la_respuesta__c = '';
        answer5.Respuesta__c = survey.Id;
        lstAnswers.add(answer5);
        Respuesta_encuesta__c answer6 = new Respuesta_encuesta__c();
        answer6.Encuesta__c = survey.Id;
        answer6.Titulo__c = 'q002a_na';
        answer6.Codigo_de_pregunta__c = '';
        answer6.Codigo_de_la_respuesta__c = '';
        answer6.Respuesta__c = survey.Id;
        lstAnswers.add(answer6);
        Respuesta_encuesta__c answer7 = new Respuesta_encuesta__c();
        answer7.Encuesta__c = survey.Id;
        answer7.Titulo__c = 'q002a_coded';
        answer7.Codigo_de_pregunta__c = '';
        answer7.Codigo_de_la_respuesta__c = '';
        answer7.Respuesta__c = survey.Id;
        lstAnswers.add(answer7);
        Respuesta_encuesta__c answer8 = new Respuesta_encuesta__c();
        answer8.Encuesta__c = survey.Id;
        answer8.Titulo__c = 'q003';
        answer8.Codigo_de_pregunta__c = '';
        answer8.Codigo_de_la_respuesta__c = '';
        answer8.Respuesta__c = survey.Id;
        lstAnswers.add(answer8);
        Respuesta_encuesta__c answer9 = new Respuesta_encuesta__c();
        answer9.Encuesta__c = survey.Id;
        answer9.Titulo__c = 'q003a';
        answer9.Codigo_de_pregunta__c = '';
        answer9.Codigo_de_la_respuesta__c = '';
        answer9.Respuesta__c = survey.Id;
        lstAnswers.add(answer9);
        Respuesta_encuesta__c answer10 = new Respuesta_encuesta__c();
        answer10.Encuesta__c = survey.Id;
        answer10.Titulo__c = 'q003a_na';
        answer10.Codigo_de_pregunta__c = '';
        answer10.Codigo_de_la_respuesta__c = '';
        answer10.Respuesta__c = 'Yep';
        lstAnswers.add(answer10);
        Respuesta_encuesta__c answer11 = new Respuesta_encuesta__c();
        answer11.Encuesta__c = survey.Id;
        answer11.Titulo__c = 'q003a_coded';
        answer11.Codigo_de_pregunta__c = '';
        answer11.Codigo_de_la_respuesta__c = '';
        answer11.Respuesta__c = 'Nope';
        lstAnswers.add(answer11);
        Respuesta_encuesta__c answer12 = new Respuesta_encuesta__c();
        answer12.Encuesta__c = survey.Id;
        answer12.Titulo__c = 'q004';
        answer12.Codigo_de_pregunta__c = '';
        answer12.Codigo_de_la_respuesta__c = '';
        answer12.Respuesta__c = 'Nope';
        lstAnswers.add(answer12);
        Respuesta_encuesta__c answer13 = new Respuesta_encuesta__c();
        answer13.Encuesta__c = survey.Id;
        answer13.Titulo__c = 'q004a';
        answer13.Codigo_de_pregunta__c = '';
        answer13.Codigo_de_la_respuesta__c = '';
        answer13.Respuesta__c = 'Nope';
        lstAnswers.add(answer13);
        Respuesta_encuesta__c answer14 = new Respuesta_encuesta__c();
        answer14.Encuesta__c = survey.Id;
        answer14.Titulo__c = 'q004a_na';
        answer14.Codigo_de_pregunta__c = '';
        answer14.Codigo_de_la_respuesta__c = '';
        answer14.Respuesta__c = 'Nope';
        lstAnswers.add(answer14);
        Respuesta_encuesta__c answer15 = new Respuesta_encuesta__c();
        answer15.Encuesta__c = survey.Id;
        answer15.Titulo__c = 'q004a_coded';
        answer15.Codigo_de_pregunta__c = '';
        answer15.Codigo_de_la_respuesta__c = '';
        answer15.Respuesta__c = 'v001';
        lstAnswers.add(answer15);
        Respuesta_encuesta__c answer16 = new Respuesta_encuesta__c();
        answer16.Encuesta__c = survey.Id;
        answer16.Titulo__c = 'q004b';
        answer16.Codigo_de_pregunta__c = '';
        answer16.Codigo_de_la_respuesta__c = '1';
        answer16.Respuesta__c = 'v001';
        lstAnswers.add(answer16);
        Respuesta_encuesta__c answer17 = new Respuesta_encuesta__c();
        answer17.Encuesta__c = survey.Id;
        answer17.Titulo__c = 'q004b_na';
        answer17.Codigo_de_pregunta__c = '';
        answer17.Codigo_de_la_respuesta__c = 'Pablo';
        answer17.Respuesta__c = 'Pablo';
        lstAnswers.add(answer17);
        Respuesta_encuesta__c answer18 = new Respuesta_encuesta__c();
        answer18.Encuesta__c = survey.Id;
        answer18.Titulo__c = 'q004b_coded';
        answer18.Codigo_de_pregunta__c = '';
        answer18.Codigo_de_la_respuesta__c = 'Pablo';
        answer18.Respuesta__c = 'Pablo';
        lstAnswers.add(answer18);
        Respuesta_encuesta__c answer19 = new Respuesta_encuesta__c();
        answer19.Encuesta__c = survey.Id;
        answer19.Titulo__c = 'q005';
        answer19.Codigo_de_pregunta__c = '';
        answer19.Codigo_de_la_respuesta__c = 'Pablo';
        answer19.Respuesta__c = 'Pablo';
        lstAnswers.add(answer19);
        Respuesta_encuesta__c answer20 = new Respuesta_encuesta__c();
        answer20.Encuesta__c = survey.Id;
        answer20.Titulo__c = 's001';
        answer20.Codigo_de_pregunta__c = '';
        answer20.Codigo_de_la_respuesta__c = 'Pablo';
        answer20.Respuesta__c = 'Pablo';
        lstAnswers.add(answer20);
        Respuesta_encuesta__c answer21 = new Respuesta_encuesta__c();
        answer21.Encuesta__c = survey.Id;
        answer21.Titulo__c = 's002';
        answer21.Codigo_de_pregunta__c = '';
        answer21.Codigo_de_la_respuesta__c = 'Pablo';
        answer21.Respuesta__c = 'Pablo';
        lstAnswers.add(answer21);
        Respuesta_encuesta__c answer22 = new Respuesta_encuesta__c();
        answer22.Encuesta__c = survey.Id;
        answer22.Titulo__c = 's003';
        answer22.Codigo_de_pregunta__c = '';
        answer22.Codigo_de_la_respuesta__c = 'Pablo';
        answer22.Respuesta__c = 'Pablo';
        lstAnswers.add(answer22);
        Respuesta_encuesta__c answer23 = new Respuesta_encuesta__c();
        answer23.Encuesta__c = survey.Id;
        answer23.Titulo__c = 's003_na';
        answer23.Codigo_de_pregunta__c = '';
        answer23.Codigo_de_la_respuesta__c = 'Pablo';
        answer23.Respuesta__c = 'Pablo';
        lstAnswers.add(answer23);
        Respuesta_encuesta__c answer24 = new Respuesta_encuesta__c();
        answer24.Encuesta__c = survey.Id;
        answer24.Titulo__c = 's004';
        answer24.Codigo_de_pregunta__c = '';
        answer24.Codigo_de_la_respuesta__c = 'Pablo';
        answer24.Respuesta__c = 'Pablo';
        lstAnswers.add(answer24);
        Respuesta_encuesta__c answer25 = new Respuesta_encuesta__c();
        answer25.Encuesta__c = survey.Id;
        answer25.Titulo__c = 'qp001';
        answer25.Codigo_de_pregunta__c = '';
        answer25.Codigo_de_la_respuesta__c = 'Pablo';
        answer25.Respuesta__c = 'Pablo';
        lstAnswers.add(answer25);
        Respuesta_encuesta__c answer26 = new Respuesta_encuesta__c();
        answer26.Encuesta__c = survey.Id;
        answer26.Titulo__c = 'qp002';
        answer26.Codigo_de_pregunta__c = '';
        answer26.Codigo_de_la_respuesta__c = 'Pablo';
        answer26.Respuesta__c = 'Pablo';
        lstAnswers.add(answer26);
        Respuesta_encuesta__c answer27 = new Respuesta_encuesta__c();
        answer27.Encuesta__c = survey.Id;
        answer27.Titulo__c = 'qp003';
        answer27.Codigo_de_pregunta__c = '';
        answer27.Codigo_de_la_respuesta__c = 'Pablo';
        answer27.Respuesta__c = 'Pablo';
        lstAnswers.add(answer27);
        Respuesta_encuesta__c answer28 = new Respuesta_encuesta__c();
        answer28.Encuesta__c = survey.Id;
        answer28.Titulo__c = 'qp003_coded';
        answer28.Codigo_de_pregunta__c = '';
        answer28.Codigo_de_la_respuesta__c = 'Pablo';
        answer28.Respuesta__c = 'Pablo';
        lstAnswers.add(answer28);
        Respuesta_encuesta__c answer29 = new Respuesta_encuesta__c();
        answer29.Encuesta__c = survey.Id;
        answer29.Titulo__c = 'qp003_na';
        answer29.Codigo_de_pregunta__c = '';
        answer29.Codigo_de_la_respuesta__c = 'Pablo';
        answer29.Respuesta__c = 'Pablo';
        lstAnswers.add(answer29);
        Respuesta_encuesta__c answer30 = new Respuesta_encuesta__c();
        answer30.Encuesta__c = survey.Id;
        answer30.Titulo__c = 's001_na';
        answer30.Codigo_de_pregunta__c = '';
        answer30.Codigo_de_la_respuesta__c = 'Pablo';
        answer30.Respuesta__c = 'Pablo';
        lstAnswers.add(answer30);
        Respuesta_encuesta__c answer31 = new Respuesta_encuesta__c();
        answer31.Encuesta__c = survey.Id;
        answer31.Titulo__c = 'qp0041';
        answer31.Codigo_de_pregunta__c = '';
        answer31.Codigo_de_la_respuesta__c = 'Pablo';
        answer31.Respuesta__c = 'Pablo';
        lstAnswers.add(answer31);
        Respuesta_encuesta__c answer32 = new Respuesta_encuesta__c();
        answer32.Encuesta__c = survey.Id;
        answer32.Titulo__c = 'qp0042';
        answer32.Codigo_de_pregunta__c = '';
        answer32.Codigo_de_la_respuesta__c = 'Pablo';
        answer32.Respuesta__c = 'Pablo';
        lstAnswers.add(answer32);
        Respuesta_encuesta__c answer33 = new Respuesta_encuesta__c();
        answer33.Encuesta__c = survey.Id;
        answer33.Titulo__c = 'qp0043';
        answer33.Codigo_de_pregunta__c = '';
        answer33.Codigo_de_la_respuesta__c = 'Pablo';
        answer33.Respuesta__c = 'Pablo';
        lstAnswers.add(answer33);
        Respuesta_encuesta__c answer34 = new Respuesta_encuesta__c();
        answer34.Encuesta__c = survey.Id;
        answer34.Titulo__c = 'qp0044';
        answer34.Codigo_de_pregunta__c = '';
        answer34.Codigo_de_la_respuesta__c = 'Pablo';
        answer34.Respuesta__c = 'Pablo';
        lstAnswers.add(answer34);
        Respuesta_encuesta__c answer35 = new Respuesta_encuesta__c();
        answer35.Encuesta__c = survey.Id;
        answer35.Titulo__c = 'qcs0044';
        answer35.Codigo_de_pregunta__c = '';
        answer35.Codigo_de_la_respuesta__c = 'Pablo';
        answer35.Respuesta__c = 'Pablo';
        lstAnswers.add(answer35);
        insert lstAnswers;
        //CEM-Manuales AUDI Venta
        Encuesta__c survey1  = CreaObjetos.creaEncuesta('1', 'AUDI', null, conce.Id, null, gEncuesta.id,'CEM_Manuales');
        survey1.Tipo_Encuesta__c='Externo';
        insert survey1;
        List<Respuesta_encuesta__c> lstAnswers1 = new List<Respuesta_encuesta__c>();
        Respuesta_encuesta__c answerb = new Respuesta_encuesta__c();
        answerb.Encuesta__c = survey1.Id;
        answerb.Titulo__c = 'q003';
        answerb.Codigo_de_pregunta__c = '';
        answerb.Codigo_de_la_respuesta__c = '';
        answerb.Respuesta__c = survey1.Id;
        lstAnswers1.add(answerb);
        Respuesta_encuesta__c answer1b = new Respuesta_encuesta__c();
        answer1b.Encuesta__c = survey1.Id;
        answer1b.Titulo__c = 'q001';
        answer1b.Codigo_de_pregunta__c = '';
        answer1b.Codigo_de_la_respuesta__c = 'Yep';
        answer1b.Respuesta__c = 'Yep';
        lstAnswers1.add(answer1b);
        Respuesta_encuesta__c answer2b = new Respuesta_encuesta__c();
        answer2b.Encuesta__c = survey1.Id;
        answer2b.Titulo__c = 'q002';
        answer2b.Codigo_de_pregunta__c = '';
        answer2b.Codigo_de_la_respuesta__c = 'Nope';
        answer2b.Respuesta__c = 'Nope';
        lstAnswers1.add(answer2b);
        Respuesta_encuesta__c answer3b = new Respuesta_encuesta__c();
        answer3b.Encuesta__c = survey1.Id;
        answer3b.Titulo__c = 'Qversion';
        answer3b.Codigo_de_pregunta__c = '';
        answer3b.Codigo_de_la_respuesta__c = 'v001';
        answer3b.Respuesta__c = 'v001';
        lstAnswers1.add(answer3b);
        insert lstAnswers1;
        //CEM AUDI Pase de taller
        Encuesta__c survey2  = CreaObjetos.creaEncuesta('2', 'AUDI', cliente.Id, conce.Id, null, gEncuesta.id, 'CEM');
        survey2.Tipo_de_Operacion__c='Pase de taller';
        insert survey2;
        List<Respuesta_encuesta__c> lstAnswers2 = new List<Respuesta_encuesta__c>();
        Respuesta_encuesta__c answerc = new Respuesta_encuesta__c();
        answerc.Encuesta__c = survey.Id;
        answerc.Titulo__c = 'q001';
        answerc.Codigo_de_pregunta__c = '';
        answerc.Codigo_de_la_respuesta__c = '';
        answerc.Respuesta__c = survey.Id;
        lstAnswers2.add(answerc);
        Respuesta_encuesta__c answer1c = new Respuesta_encuesta__c();
        answer1c.Encuesta__c = survey.Id;
        answer1c.Titulo__c = 'q001a';
        answer1c.Codigo_de_pregunta__c = '';
        answer1c.Codigo_de_la_respuesta__c = '';
        answer1c.Respuesta__c = survey.Id;
        lstAnswers2.add(answer1c);
        Respuesta_encuesta__c answer2c = new Respuesta_encuesta__c();
        answer2c.Encuesta__c = survey.Id;
        answer2c.Titulo__c = 'q001a_na';
        answer2c.Codigo_de_pregunta__c = '';
        answer2c.Codigo_de_la_respuesta__c = '';
        answer2c.Respuesta__c = survey.Id;
        lstAnswers2.add(answer2c);
        Respuesta_encuesta__c answer3c = new Respuesta_encuesta__c();
        answer3c.Encuesta__c = survey.Id;
        answer3c.Titulo__c = 'q001a_coded';
        answer3c.Codigo_de_pregunta__c = '';
        answer3c.Codigo_de_la_respuesta__c = '';
        answer3c.Respuesta__c = survey.Id;
        lstAnswers2.add(answer3c);
        Respuesta_encuesta__c answer4c = new Respuesta_encuesta__c();
        answer4c.Encuesta__c = survey.Id;
        answer4c.Titulo__c = 'q002';
        answer4c.Codigo_de_pregunta__c = '';
        answer4c.Codigo_de_la_respuesta__c = '';
        answer4c.Respuesta__c = survey.Id;
        lstAnswers2.add(answer4c);
        Respuesta_encuesta__c answer5c = new Respuesta_encuesta__c();
        answer5c.Encuesta__c = survey.Id;
        answer5c.Titulo__c = 'q002a';
        answer5c.Codigo_de_pregunta__c = '';
        answer5c.Codigo_de_la_respuesta__c = '';
        answer5c.Respuesta__c = survey.Id;
        lstAnswers2.add(answer5c);
        Respuesta_encuesta__c answer6c = new Respuesta_encuesta__c();
        answer6c.Encuesta__c = survey.Id;
        answer6c.Titulo__c = 'q002a_na';
        answer6c.Codigo_de_pregunta__c = '';
        answer6c.Codigo_de_la_respuesta__c = '';
        answer6c.Respuesta__c = survey.Id;
        lstAnswers2.add(answer6c);
        Respuesta_encuesta__c answer7c = new Respuesta_encuesta__c();
        answer7c.Encuesta__c = survey.Id;
        answer7c.Titulo__c = 'q002a_coded';
        answer7c.Codigo_de_pregunta__c = '';
        answer7c.Codigo_de_la_respuesta__c = '';
        answer7c.Respuesta__c = survey.Id;
        lstAnswers2.add(answer7c);
        Respuesta_encuesta__c answer8c = new Respuesta_encuesta__c();
        answer8c.Encuesta__c = survey.Id;
        answer8c.Titulo__c = 'q003';
        answer8c.Codigo_de_pregunta__c = '';
        answer8c.Codigo_de_la_respuesta__c = '';
        answer8c.Respuesta__c = survey.Id;
        lstAnswers2.add(answer8c);
        Respuesta_encuesta__c answer9c = new Respuesta_encuesta__c();
        answer9c.Encuesta__c = survey.Id;
        answer9c.Titulo__c = 'q003a';
        answer9c.Codigo_de_pregunta__c = '';
        answer9c.Codigo_de_la_respuesta__c = '';
        answer9c.Respuesta__c = survey.Id;
        lstAnswers2.add(answer9c);
        Respuesta_encuesta__c answer10c = new Respuesta_encuesta__c();
        answer10c.Encuesta__c = survey.Id;
        answer10c.Titulo__c = 'q003a_na';
        answer10c.Codigo_de_pregunta__c = '';
        answer10c.Codigo_de_la_respuesta__c = '';
        answer10c.Respuesta__c = 'Yep';
        lstAnswers2.add(answer10c);
        Respuesta_encuesta__c answer11c = new Respuesta_encuesta__c();
        answer11c.Encuesta__c = survey.Id;
        answer11c.Titulo__c = 'q003a_coded';
        answer11c.Codigo_de_pregunta__c = '';
        answer11c.Codigo_de_la_respuesta__c = '';
        answer11c.Respuesta__c = 'Nope';
        lstAnswers2.add(answer11c);
        Respuesta_encuesta__c answer12c = new Respuesta_encuesta__c();
        answer12c.Encuesta__c = survey.Id;
        answer12c.Titulo__c = 'q004';
        answer12c.Codigo_de_pregunta__c = '';
        answer12c.Codigo_de_la_respuesta__c = '';
        answer12c.Respuesta__c = 'Nope';
        lstAnswers2.add(answer12c);
        Respuesta_encuesta__c answer13c = new Respuesta_encuesta__c();
        answer13c.Encuesta__c = survey.Id;
        answer13c.Titulo__c = 'q004a';
        answer13c.Codigo_de_pregunta__c = '';
        answer13c.Codigo_de_la_respuesta__c = '';
        answer13c.Respuesta__c = 'Nope';
        lstAnswers2.add(answer13c);
        Respuesta_encuesta__c answer14c = new Respuesta_encuesta__c();
        answer14c.Encuesta__c = survey.Id;
        answer14c.Titulo__c = 'q004a_na';
        answer14c.Codigo_de_pregunta__c = '';
        answer14c.Codigo_de_la_respuesta__c = '';
        answer14c.Respuesta__c = 'Nope';
        lstAnswers2.add(answer14c);
        Respuesta_encuesta__c answer15c = new Respuesta_encuesta__c();
        answer15c.Encuesta__c = survey.Id;
        answer15c.Titulo__c = 'q004a_coded';
        answer15c.Codigo_de_pregunta__c = '';
        answer15c.Codigo_de_la_respuesta__c = '';
        answer15c.Respuesta__c = 'v001';
        lstAnswers2.add(answer15c);
        Respuesta_encuesta__c answer16c = new Respuesta_encuesta__c();
        answer16c.Encuesta__c = survey.Id;
        answer16c.Titulo__c = 'q004b';
        answer16c.Codigo_de_pregunta__c = '';
        answer16c.Codigo_de_la_respuesta__c = '1';
        answer16c.Respuesta__c = 'v001';
        lstAnswers2.add(answer16c);
        Respuesta_encuesta__c answer17c = new Respuesta_encuesta__c();
        answer17c.Encuesta__c = survey.Id;
        answer17c.Titulo__c = 'q004b_na';
        answer17c.Codigo_de_pregunta__c = '';
        answer17c.Codigo_de_la_respuesta__c = 'Pablo';
        answer17c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer17c);
        Respuesta_encuesta__c answer18c = new Respuesta_encuesta__c();
        answer18c.Encuesta__c = survey.Id;
        answer18c.Titulo__c = 'q004b_coded';
        answer18c.Codigo_de_pregunta__c = '';
        answer18c.Codigo_de_la_respuesta__c = 'Pablo';
        answer18c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer18c);
        Respuesta_encuesta__c answer19c = new Respuesta_encuesta__c();
        answer19c.Encuesta__c = survey.Id;
        answer19c.Titulo__c = 'q005';
        answer19c.Codigo_de_pregunta__c = '';
        answer19c.Codigo_de_la_respuesta__c = 'Pablo';
        answer19c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer19c);
        Respuesta_encuesta__c answer20c = new Respuesta_encuesta__c();
        answer20c.Encuesta__c = survey.Id;
        answer20c.Titulo__c = 's001';
        answer20c.Codigo_de_pregunta__c = '';
        answer20c.Codigo_de_la_respuesta__c = 'Pablo';
        answer20c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer20c);
        Respuesta_encuesta__c answer21c = new Respuesta_encuesta__c();
        answer21c.Encuesta__c = survey.Id;
        answer21c.Titulo__c = 's002';
        answer21c.Codigo_de_pregunta__c = '';
        answer21c.Codigo_de_la_respuesta__c = 'Pablo';
        answer21c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer21c);
        Respuesta_encuesta__c answer22c = new Respuesta_encuesta__c();
        answer22c.Encuesta__c = survey.Id;
        answer22c.Titulo__c = 's003';
        answer22c.Codigo_de_pregunta__c = '';
        answer22c.Codigo_de_la_respuesta__c = 'Pablo';
        answer22c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer22c);
        Respuesta_encuesta__c answer23c = new Respuesta_encuesta__c();
        answer23c.Encuesta__c = survey.Id;
        answer23c.Titulo__c = 's003_na';
        answer23c.Codigo_de_pregunta__c = '';
        answer23c.Codigo_de_la_respuesta__c = 'Pablo';
        answer23c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer23c);
        Respuesta_encuesta__c answer24c = new Respuesta_encuesta__c();
        answer24c.Encuesta__c = survey.Id;
        answer24c.Titulo__c = 's004';
        answer24c.Codigo_de_pregunta__c = '';
        answer24c.Codigo_de_la_respuesta__c = 'Pablo';
        answer24c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer24c);
        Respuesta_encuesta__c answer25c = new Respuesta_encuesta__c();
        answer25c.Encuesta__c = survey.Id;
        answer25c.Titulo__c = 'qp001';
        answer25c.Codigo_de_pregunta__c = '';
        answer25c.Codigo_de_la_respuesta__c = 'Pablo';
        answer25c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer25c);
        Respuesta_encuesta__c answer26c = new Respuesta_encuesta__c();
        answer26c.Encuesta__c = survey.Id;
        answer26c.Titulo__c = 'qp002';
        answer26c.Codigo_de_pregunta__c = '';
        answer26c.Codigo_de_la_respuesta__c = 'Pablo';
        answer26c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer26c);
        Respuesta_encuesta__c answer27c = new Respuesta_encuesta__c();
        answer27c.Encuesta__c = survey.Id;
        answer27c.Titulo__c = 'qp003';
        answer27c.Codigo_de_pregunta__c = '';
        answer27c.Codigo_de_la_respuesta__c = 'Pablo';
        answer27c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer27c);
        Respuesta_encuesta__c answer28c = new Respuesta_encuesta__c();
        answer28c.Encuesta__c = survey.Id;
        answer28c.Titulo__c = 'qp003_coded';
        answer28c.Codigo_de_pregunta__c = '';
        answer28c.Codigo_de_la_respuesta__c = 'Pablo';
        answer28c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer28c);
        Respuesta_encuesta__c answer29c = new Respuesta_encuesta__c();
        answer29c.Encuesta__c = survey.Id;
        answer29c.Titulo__c = 'qp003_na';
        answer29c.Codigo_de_pregunta__c = '';
        answer29c.Codigo_de_la_respuesta__c = 'Pablo';
        answer29c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer29c);
        Respuesta_encuesta__c answer30c = new Respuesta_encuesta__c();
        answer30c.Encuesta__c = survey.Id;
        answer30c.Titulo__c = 's001_na';
        answer30c.Codigo_de_pregunta__c = '';
        answer30c.Codigo_de_la_respuesta__c = 'Pablo';
        answer30c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer30c);
        Respuesta_encuesta__c answer31c = new Respuesta_encuesta__c();
        answer31c.Encuesta__c = survey.Id;
        answer31c.Titulo__c = 'qp0041';
        answer31c.Codigo_de_pregunta__c = '';
        answer31c.Codigo_de_la_respuesta__c = 'Pablo';
        answer31c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer31c);
        Respuesta_encuesta__c answer32c = new Respuesta_encuesta__c();
        answer32c.Encuesta__c = survey.Id;
        answer32c.Titulo__c = 'qp0042';
        answer32c.Codigo_de_pregunta__c = '';
        answer32c.Codigo_de_la_respuesta__c = 'Pablo';
        answer32c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer32c);
        Respuesta_encuesta__c answer33c = new Respuesta_encuesta__c();
        answer33c.Encuesta__c = survey.Id;
        answer33c.Titulo__c = 'qp0043';
        answer33c.Codigo_de_pregunta__c = '';
        answer33c.Codigo_de_la_respuesta__c = 'Pablo';
        answer33c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer33c);
        Respuesta_encuesta__c answer34c = new Respuesta_encuesta__c();
        answer34c.Encuesta__c = survey.Id;
        answer34c.Titulo__c = 'qp0044';
        answer34c.Codigo_de_pregunta__c = '';
        answer34c.Codigo_de_la_respuesta__c = 'Pablo';
        answer34c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer34c);
        Respuesta_encuesta__c answer35c = new Respuesta_encuesta__c();
        answer35c.Encuesta__c = survey.Id;
        answer35c.Titulo__c = 'qcs0044';
        answer35c.Codigo_de_pregunta__c = '';
        answer35c.Codigo_de_la_respuesta__c = 'Pablo';
        answer35c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer35c);
        
        insert lstAnswers2;
        //CEM-Manuales AUDI Venta
        Encuesta__c survey3  = CreaObjetos.creaEncuesta('1', 'AUDI', null, conce.Id, null, gEncuesta.id,'CEM_Manuales');
        survey3.Tipo_Encuesta__c='Externo';
        survey3.Tipo_de_Operacion__c='Pase de taller';
        insert survey3;
        List<Respuesta_encuesta__c> lstAnswers3 = new List<Respuesta_encuesta__c>();
        Respuesta_encuesta__c answerd = new Respuesta_encuesta__c();
        answerd.Encuesta__c = survey3.Id;
        answerd.Titulo__c = 'q003';
        answerd.Codigo_de_pregunta__c = '';
        answerd.Codigo_de_la_respuesta__c = '';
        answerd.Respuesta__c = survey3.Id;
        lstAnswers3.add(answerd);
        Respuesta_encuesta__c answer1d = new Respuesta_encuesta__c();
        answer1d.Encuesta__c = survey3.Id;
        answer1d.Titulo__c = 'q001';
        answer1d.Codigo_de_pregunta__c = '';
        answer1d.Codigo_de_la_respuesta__c = 'Yep';
        answer1d.Respuesta__c = 'Yep';
        lstAnswers3.add(answer1d);
        Respuesta_encuesta__c answer2d = new Respuesta_encuesta__c();
        answer2d.Encuesta__c = survey3.Id;
        answer2d.Titulo__c = 'q002';
        answer2d.Codigo_de_pregunta__c = '';
        answer2d.Codigo_de_la_respuesta__c = 'Nope';
        answer2d.Respuesta__c = 'Nope';
        lstAnswers3.add(answer2d);
        Respuesta_encuesta__c answer3d = new Respuesta_encuesta__c();
        answer3d.Encuesta__c = survey3.Id;
        answer3d.Titulo__c = 'Qversion';
        answer3d.Codigo_de_pregunta__c = '';
        answer3d.Codigo_de_la_respuesta__c = 'v001';
        answer3d.Respuesta__c = 'v001';
        lstAnswers3.add(answer3d);
        insert lstAnswers3;
        
        Test.startTest();
        Database.executeBatch(new SendSurveyCEMBatch('AUDI','YESTERDAY'));
        test.stopTest();
        
    }
    @isTest 
    static void testBatchVolkswagemCEM() {
        //VOLKSWAGEN
        Account cliente = CreaObjetos.creaCuentaPersonal('pruebaVOLKSWAGEN', 'pruebaVOLKSWAGEN');
        insert cliente;
        Concesionario__c conce = CreaObjetos.creaConcesionario('166');
        insert conce;
        Centro__c centro = CreaObjetos.creaCentro(conce.Id);
        Gestion_encuesta__c gEncuesta = CreaObjetos.creaGestionEncuesta('VOLKSWAGEN', centro.Id, conce.Id);
        insert gEncuesta;
        //CEM VOLKSWAGEN Venta
        Encuesta__c survey  = CreaObjetos.creaEncuesta('1', 'VOLKSWAGEN', cliente.Id, conce.Id, null, gEncuesta.id, 'CEM');
        insert survey;
        List<Respuesta_encuesta__c> lstAnswers = new List<Respuesta_encuesta__c>();
        Respuesta_encuesta__c answer = new Respuesta_encuesta__c();
        answer.Encuesta__c = survey.Id;
        answer.Titulo__c = 'q003';
        answer.Codigo_de_pregunta__c = '';
        answer.Codigo_de_la_respuesta__c = '';
        answer.Respuesta__c = survey.Id;
        lstAnswers.add(answer);
        Respuesta_encuesta__c answer1 = new Respuesta_encuesta__c();
        answer1.Encuesta__c = survey.Id;
        answer1.Titulo__c = 'q001';
        answer1.Codigo_de_pregunta__c = '';
        answer1.Codigo_de_la_respuesta__c = '';
        answer1.Respuesta__c = 'Yep';
        lstAnswers.add(answer1);
        Respuesta_encuesta__c answer2 = new Respuesta_encuesta__c();
        answer2.Encuesta__c = survey.Id;
        answer2.Titulo__c = 'q002';
        answer2.Codigo_de_pregunta__c = '';
        answer2.Codigo_de_la_respuesta__c = '';
        answer2.Respuesta__c = 'Nope';
        lstAnswers.add(answer2);
        Respuesta_encuesta__c answer3 = new Respuesta_encuesta__c();
        answer3.Encuesta__c = survey.Id;
        answer3.Titulo__c = 'Qversion';
        answer3.Codigo_de_pregunta__c = '';
        answer3.Codigo_de_la_respuesta__c = '';
        answer3.Respuesta__c = 'v001';
        lstAnswers.add(answer3);
        Respuesta_encuesta__c answer4 = new Respuesta_encuesta__c();
        answer4.Encuesta__c = survey.Id;
        answer4.Titulo__c = 'PublicationOnInternet';
        answer4.Codigo_de_pregunta__c = '';
        answer4.Codigo_de_la_respuesta__c = '1';
        answer4.Respuesta__c = 'v001';
        lstAnswers.add(answer4);
        Respuesta_encuesta__c answer5 = new Respuesta_encuesta__c();
        answer5.Encuesta__c = survey.Id;
        answer5.Titulo__c = 'e1c';
        answer5.Codigo_de_pregunta__c = '';
        answer5.Codigo_de_la_respuesta__c = 'Pablo';
        answer5.Respuesta__c = 'Pablo';
        lstAnswers.add(answer5);
        insert lstAnswers;
        //CEM-Manuales VOLKSWAGEN Venta
        Encuesta__c survey1  = CreaObjetos.creaEncuesta('1', 'VOLKSWAGEN', null, conce.Id, null, gEncuesta.id,'CEM_Manuales');
        survey1.Tipo_Encuesta__c='Externo';
        insert survey1;
        List<Respuesta_encuesta__c> lstAnswers1 = new List<Respuesta_encuesta__c>();
        Respuesta_encuesta__c answerb = new Respuesta_encuesta__c();
        answerb.Encuesta__c = survey1.Id;
        answerb.Titulo__c = 'q003';
        answerb.Codigo_de_pregunta__c = '';
        answerb.Codigo_de_la_respuesta__c = '';
        answerb.Respuesta__c = survey1.Id;
        lstAnswers1.add(answerb);
        Respuesta_encuesta__c answer1b = new Respuesta_encuesta__c();
        answer1b.Encuesta__c = survey1.Id;
        answer1b.Titulo__c = 'q001';
        answer1b.Codigo_de_pregunta__c = '';
        answer1b.Codigo_de_la_respuesta__c = 'Yep';
        answer1b.Respuesta__c = 'Yep';
        lstAnswers1.add(answer1b);
        Respuesta_encuesta__c answer2b = new Respuesta_encuesta__c();
        answer2b.Encuesta__c = survey1.Id;
        answer2b.Titulo__c = 'q002';
        answer2b.Codigo_de_pregunta__c = '';
        answer2b.Codigo_de_la_respuesta__c = 'Nope';
        answer2b.Respuesta__c = 'Nope';
        lstAnswers1.add(answer2b);
        Respuesta_encuesta__c answer3b = new Respuesta_encuesta__c();
        answer3b.Encuesta__c = survey1.Id;
        answer3b.Titulo__c = 'Qversion';
        answer3b.Codigo_de_pregunta__c = '';
        answer3b.Codigo_de_la_respuesta__c = 'v001';
        answer3b.Respuesta__c = 'v001';
        lstAnswers1.add(answer3b);
        insert lstAnswers1;
        //CEM VOLKSWAGEN Pase de taller
        Encuesta__c survey2  = CreaObjetos.creaEncuesta('2', 'VOLKSWAGEN', cliente.Id, conce.Id, null, gEncuesta.id, 'CEM');
        survey2.Tipo_de_Operacion__c='Pase de taller';
        insert survey2;
        List<Respuesta_encuesta__c> lstAnswers2 = new List<Respuesta_encuesta__c>();
        Respuesta_encuesta__c answerc = new Respuesta_encuesta__c();
        answerc.Encuesta__c = survey2.Id;
        answerc.Titulo__c = 'q003';
        answerc.Codigo_de_pregunta__c = '';
        answerc.Codigo_de_la_respuesta__c = '';
        answerc.Respuesta__c = survey2.Id;
        lstAnswers2.add(answerc);
        Respuesta_encuesta__c answer1c = new Respuesta_encuesta__c();
        answer1c.Encuesta__c = survey2.Id;
        answer1c.Titulo__c = 'q001';
        answer1c.Codigo_de_pregunta__c = '';
        answer1c.Codigo_de_la_respuesta__c = '';
        answer1c.Respuesta__c = 'Yep';
        lstAnswers2.add(answer1c);
        Respuesta_encuesta__c answer2c = new Respuesta_encuesta__c();
        answer2c.Encuesta__c = survey2.Id;
        answer2c.Titulo__c = 'q002';
        answer2c.Codigo_de_pregunta__c = '';
        answer2c.Codigo_de_la_respuesta__c = '';
        answer2c.Respuesta__c = 'Nope';
        lstAnswers2.add(answer2c);
        Respuesta_encuesta__c answer3c = new Respuesta_encuesta__c();
        answer3c.Encuesta__c = survey2.Id;
        answer3c.Titulo__c = 'Qversion';
        answer3c.Codigo_de_pregunta__c = '';
        answer3c.Codigo_de_la_respuesta__c = '';
        answer3c.Respuesta__c = 'v001';
        lstAnswers2.add(answer3c);
        insert lstAnswers2;
        //CEM-Manuales VOLKSWAGEN Venta
        Encuesta__c survey3  = CreaObjetos.creaEncuesta('1', 'VOLKSWAGEN', null, conce.Id, null, gEncuesta.id,'CEM_Manuales');
        survey3.Tipo_Encuesta__c='Externo';
        survey3.Tipo_de_Operacion__c='Pase de taller';
        insert survey3;
        List<Respuesta_encuesta__c> lstAnswers3 = new List<Respuesta_encuesta__c>();
        Respuesta_encuesta__c answerd = new Respuesta_encuesta__c();
        answerd.Encuesta__c = survey3.Id;
        answerd.Titulo__c = 'q003';
        answerd.Codigo_de_pregunta__c = '';
        answerd.Codigo_de_la_respuesta__c = '';
        answerd.Respuesta__c = survey3.Id;
        lstAnswers3.add(answerd);
        Respuesta_encuesta__c answer1d = new Respuesta_encuesta__c();
        answer1d.Encuesta__c = survey3.Id;
        answer1d.Titulo__c = 'q001';
        answer1d.Codigo_de_pregunta__c = '';
        answer1d.Codigo_de_la_respuesta__c = 'Yep';
        answer1d.Respuesta__c = 'Yep';
        lstAnswers3.add(answer1d);
        Respuesta_encuesta__c answer2d = new Respuesta_encuesta__c();
        answer2d.Encuesta__c = survey3.Id;
        answer2d.Titulo__c = 'q002';
        answer2d.Codigo_de_pregunta__c = '';
        answer2d.Codigo_de_la_respuesta__c = 'Nope';
        answer2d.Respuesta__c = 'Nope';
        lstAnswers3.add(answer2d);
        Respuesta_encuesta__c answer3d = new Respuesta_encuesta__c();
        answer3d.Encuesta__c = survey3.Id;
        answer3d.Titulo__c = 'Qversion';
        answer3d.Codigo_de_pregunta__c = '';
        answer3d.Codigo_de_la_respuesta__c = 'v001';
        answer3d.Respuesta__c = 'v001';
        lstAnswers3.add(answer3d);
        insert lstAnswers3;
        Test.startTest();
        Database.executeBatch(new SendSurveyCEMBatch('VOLKSWAGEN','YESTERDAY'));
        test.stopTest();

    }
    @isTest 
    static void testBatchVolkswagemCEM1() {
        //VOLKSWAGEN
        Account cliente = CreaObjetos.creaCuentaPersonal('pruebaVOLKSWAGEN', 'pruebaVOLKSWAGEN');
        insert cliente;
        Concesionario__c conce = CreaObjetos.creaConcesionario('166');
        insert conce;
        Centro__c centro = CreaObjetos.creaCentro(conce.Id);
        Gestion_encuesta__c gEncuesta = CreaObjetos.creaGestionEncuesta('VOLKSWAGEN', centro.Id, conce.Id);
        insert gEncuesta;
        //CEM VOLKSWAGEN Venta
        Encuesta__c survey  = CreaObjetos.creaEncuesta('1', 'VOLKSWAGEN', cliente.Id, conce.Id, null, gEncuesta.id, 'CEM');
        insert survey;
        List<Respuesta_encuesta__c> lstAnswers = new List<Respuesta_encuesta__c>();
        Respuesta_encuesta__c answer = new Respuesta_encuesta__c();
        answer.Encuesta__c = survey.Id;
        answer.Titulo__c = 'q001';
        answer.Codigo_de_pregunta__c = '';
        answer.Codigo_de_la_respuesta__c = '';
        answer.Respuesta__c = survey.Id;
        lstAnswers.add(answer);
        Respuesta_encuesta__c answer1 = new Respuesta_encuesta__c();
        answer1.Encuesta__c = survey.Id;
        answer1.Titulo__c = 'q001a';
        answer1.Codigo_de_pregunta__c = '';
        answer1.Codigo_de_la_respuesta__c = '';
        answer1.Respuesta__c = survey.Id;
        lstAnswers.add(answer1);
        Respuesta_encuesta__c answer2 = new Respuesta_encuesta__c();
        answer2.Encuesta__c = survey.Id;
        answer2.Titulo__c = 'q001a_na';
        answer2.Codigo_de_pregunta__c = '';
        answer2.Codigo_de_la_respuesta__c = '';
        answer2.Respuesta__c = survey.Id;
        lstAnswers.add(answer2);
        Respuesta_encuesta__c answer3 = new Respuesta_encuesta__c();
        answer3.Encuesta__c = survey.Id;
        answer3.Titulo__c = 'q001a_coded';
        answer3.Codigo_de_pregunta__c = '';
        answer3.Codigo_de_la_respuesta__c = '';
        answer3.Respuesta__c = survey.Id;
        lstAnswers.add(answer3);
        Respuesta_encuesta__c answer4 = new Respuesta_encuesta__c();
        answer4.Encuesta__c = survey.Id;
        answer4.Titulo__c = 'q002';
        answer4.Codigo_de_pregunta__c = '';
        answer4.Codigo_de_la_respuesta__c = '';
        answer4.Respuesta__c = survey.Id;
        lstAnswers.add(answer4);
        Respuesta_encuesta__c answer5 = new Respuesta_encuesta__c();
        answer5.Encuesta__c = survey.Id;
        answer5.Titulo__c = 'q002a';
        answer5.Codigo_de_pregunta__c = '';
        answer5.Codigo_de_la_respuesta__c = '';
        answer5.Respuesta__c = survey.Id;
        lstAnswers.add(answer5);
        Respuesta_encuesta__c answer6 = new Respuesta_encuesta__c();
        answer6.Encuesta__c = survey.Id;
        answer6.Titulo__c = 'q002a_na';
        answer6.Codigo_de_pregunta__c = '';
        answer6.Codigo_de_la_respuesta__c = '';
        answer6.Respuesta__c = survey.Id;
        lstAnswers.add(answer6);
        Respuesta_encuesta__c answer7 = new Respuesta_encuesta__c();
        answer7.Encuesta__c = survey.Id;
        answer7.Titulo__c = 'q002a_coded';
        answer7.Codigo_de_pregunta__c = '';
        answer7.Codigo_de_la_respuesta__c = '';
        answer7.Respuesta__c = survey.Id;
        lstAnswers.add(answer7);
        Respuesta_encuesta__c answer8 = new Respuesta_encuesta__c();
        answer8.Encuesta__c = survey.Id;
        answer8.Titulo__c = 'q003';
        answer8.Codigo_de_pregunta__c = '';
        answer8.Codigo_de_la_respuesta__c = '';
        answer8.Respuesta__c = survey.Id;
        lstAnswers.add(answer8);
        Respuesta_encuesta__c answer9 = new Respuesta_encuesta__c();
        answer9.Encuesta__c = survey.Id;
        answer9.Titulo__c = 'q003a';
        answer9.Codigo_de_pregunta__c = '';
        answer9.Codigo_de_la_respuesta__c = '';
        answer9.Respuesta__c = survey.Id;
        lstAnswers.add(answer9);
        Respuesta_encuesta__c answer10 = new Respuesta_encuesta__c();
        answer10.Encuesta__c = survey.Id;
        answer10.Titulo__c = 'q003a_na';
        answer10.Codigo_de_pregunta__c = '';
        answer10.Codigo_de_la_respuesta__c = '';
        answer10.Respuesta__c = 'Yep';
        lstAnswers.add(answer10);
        Respuesta_encuesta__c answer11 = new Respuesta_encuesta__c();
        answer11.Encuesta__c = survey.Id;
        answer11.Titulo__c = 'q003a_coded';
        answer11.Codigo_de_pregunta__c = '';
        answer11.Codigo_de_la_respuesta__c = '';
        answer11.Respuesta__c = 'Nope';
        lstAnswers.add(answer11);
        Respuesta_encuesta__c answer12 = new Respuesta_encuesta__c();
        answer12.Encuesta__c = survey.Id;
        answer12.Titulo__c = 'q004';
        answer12.Codigo_de_pregunta__c = '';
        answer12.Codigo_de_la_respuesta__c = '';
        answer12.Respuesta__c = 'Nope';
        lstAnswers.add(answer12);
        Respuesta_encuesta__c answer13 = new Respuesta_encuesta__c();
        answer13.Encuesta__c = survey.Id;
        answer13.Titulo__c = 'q004a';
        answer13.Codigo_de_pregunta__c = '';
        answer13.Codigo_de_la_respuesta__c = '';
        answer13.Respuesta__c = 'Nope';
        lstAnswers.add(answer13);
        Respuesta_encuesta__c answer14 = new Respuesta_encuesta__c();
        answer14.Encuesta__c = survey.Id;
        answer14.Titulo__c = 'q004a_na';
        answer14.Codigo_de_pregunta__c = '';
        answer14.Codigo_de_la_respuesta__c = '';
        answer14.Respuesta__c = 'Nope';
        lstAnswers.add(answer14);
        Respuesta_encuesta__c answer15 = new Respuesta_encuesta__c();
        answer15.Encuesta__c = survey.Id;
        answer15.Titulo__c = 'q004a_coded';
        answer15.Codigo_de_pregunta__c = '';
        answer15.Codigo_de_la_respuesta__c = '';
        answer15.Respuesta__c = 'v001';
        lstAnswers.add(answer15);
        Respuesta_encuesta__c answer16 = new Respuesta_encuesta__c();
        answer16.Encuesta__c = survey.Id;
        answer16.Titulo__c = 'q004b';
        answer16.Codigo_de_pregunta__c = '';
        answer16.Codigo_de_la_respuesta__c = '1';
        answer16.Respuesta__c = 'v001';
        lstAnswers.add(answer16);
        Respuesta_encuesta__c answer17 = new Respuesta_encuesta__c();
        answer17.Encuesta__c = survey.Id;
        answer17.Titulo__c = 'q004b_na';
        answer17.Codigo_de_pregunta__c = '';
        answer17.Codigo_de_la_respuesta__c = 'Pablo';
        answer17.Respuesta__c = 'Pablo';
        lstAnswers.add(answer17);
        Respuesta_encuesta__c answer18 = new Respuesta_encuesta__c();
        answer18.Encuesta__c = survey.Id;
        answer18.Titulo__c = 'q004b_coded';
        answer18.Codigo_de_pregunta__c = '';
        answer18.Codigo_de_la_respuesta__c = 'Pablo';
        answer18.Respuesta__c = 'Pablo';
        lstAnswers.add(answer18);
        Respuesta_encuesta__c answer19 = new Respuesta_encuesta__c();
        answer19.Encuesta__c = survey.Id;
        answer19.Titulo__c = 'q005';
        answer19.Codigo_de_pregunta__c = '';
        answer19.Codigo_de_la_respuesta__c = 'Pablo';
        answer19.Respuesta__c = 'Pablo';
        lstAnswers.add(answer19);
        Respuesta_encuesta__c answer20 = new Respuesta_encuesta__c();
        answer20.Encuesta__c = survey.Id;
        answer20.Titulo__c = 's001';
        answer20.Codigo_de_pregunta__c = '';
        answer20.Codigo_de_la_respuesta__c = 'Pablo';
        answer20.Respuesta__c = 'Pablo';
        lstAnswers.add(answer20);
        Respuesta_encuesta__c answer21 = new Respuesta_encuesta__c();
        answer21.Encuesta__c = survey.Id;
        answer21.Titulo__c = 's002';
        answer21.Codigo_de_pregunta__c = '';
        answer21.Codigo_de_la_respuesta__c = 'Pablo';
        answer21.Respuesta__c = 'Pablo';
        lstAnswers.add(answer21);
        Respuesta_encuesta__c answer22 = new Respuesta_encuesta__c();
        answer22.Encuesta__c = survey.Id;
        answer22.Titulo__c = 's003';
        answer22.Codigo_de_pregunta__c = '';
        answer22.Codigo_de_la_respuesta__c = 'Pablo';
        answer22.Respuesta__c = 'Pablo';
        lstAnswers.add(answer22);
        Respuesta_encuesta__c answer23 = new Respuesta_encuesta__c();
        answer23.Encuesta__c = survey.Id;
        answer23.Titulo__c = 's003_na';
        answer23.Codigo_de_pregunta__c = '';
        answer23.Codigo_de_la_respuesta__c = 'Pablo';
        answer23.Respuesta__c = 'Pablo';
        lstAnswers.add(answer23);
        Respuesta_encuesta__c answer24 = new Respuesta_encuesta__c();
        answer24.Encuesta__c = survey.Id;
        answer24.Titulo__c = 's004';
        answer24.Codigo_de_pregunta__c = '';
        answer24.Codigo_de_la_respuesta__c = 'Pablo';
        answer24.Respuesta__c = 'Pablo';
        lstAnswers.add(answer24);
        Respuesta_encuesta__c answer25 = new Respuesta_encuesta__c();
        answer25.Encuesta__c = survey.Id;
        answer25.Titulo__c = 'qp001';
        answer25.Codigo_de_pregunta__c = '';
        answer25.Codigo_de_la_respuesta__c = 'Pablo';
        answer25.Respuesta__c = 'Pablo';
        lstAnswers.add(answer25);
        Respuesta_encuesta__c answer26 = new Respuesta_encuesta__c();
        answer26.Encuesta__c = survey.Id;
        answer26.Titulo__c = 'qp002';
        answer26.Codigo_de_pregunta__c = '';
        answer26.Codigo_de_la_respuesta__c = 'Pablo';
        answer26.Respuesta__c = 'Pablo';
        lstAnswers.add(answer26);
        Respuesta_encuesta__c answer27 = new Respuesta_encuesta__c();
        answer27.Encuesta__c = survey.Id;
        answer27.Titulo__c = 'qp003';
        answer27.Codigo_de_pregunta__c = '';
        answer27.Codigo_de_la_respuesta__c = 'Pablo';
        answer27.Respuesta__c = 'Pablo';
        lstAnswers.add(answer27);
        Respuesta_encuesta__c answer28 = new Respuesta_encuesta__c();
        answer28.Encuesta__c = survey.Id;
        answer28.Titulo__c = 'qp003_coded';
        answer28.Codigo_de_pregunta__c = '';
        answer28.Codigo_de_la_respuesta__c = 'Pablo';
        answer28.Respuesta__c = 'Pablo';
        lstAnswers.add(answer28);
        Respuesta_encuesta__c answer29 = new Respuesta_encuesta__c();
        answer29.Encuesta__c = survey.Id;
        answer29.Titulo__c = 'qp003_na';
        answer29.Codigo_de_pregunta__c = '';
        answer29.Codigo_de_la_respuesta__c = 'Pablo';
        answer29.Respuesta__c = 'Pablo';
        lstAnswers.add(answer29);
        Respuesta_encuesta__c answer30 = new Respuesta_encuesta__c();
        answer30.Encuesta__c = survey.Id;
        answer30.Titulo__c = 's001_na';
        answer30.Codigo_de_pregunta__c = '';
        answer30.Codigo_de_la_respuesta__c = 'Pablo';
        answer30.Respuesta__c = 'Pablo';
        lstAnswers.add(answer30);
        Respuesta_encuesta__c answer31 = new Respuesta_encuesta__c();
        answer31.Encuesta__c = survey.Id;
        answer31.Titulo__c = 'qp0041';
        answer31.Codigo_de_pregunta__c = '';
        answer31.Codigo_de_la_respuesta__c = 'Pablo';
        answer31.Respuesta__c = 'Pablo';
        lstAnswers.add(answer31);
        Respuesta_encuesta__c answer32 = new Respuesta_encuesta__c();
        answer32.Encuesta__c = survey.Id;
        answer32.Titulo__c = 'qp0042';
        answer32.Codigo_de_pregunta__c = '';
        answer32.Codigo_de_la_respuesta__c = 'Pablo';
        answer32.Respuesta__c = 'Pablo';
        lstAnswers.add(answer32);
        Respuesta_encuesta__c answer33 = new Respuesta_encuesta__c();
        answer33.Encuesta__c = survey.Id;
        answer33.Titulo__c = 'qp0043';
        answer33.Codigo_de_pregunta__c = '';
        answer33.Codigo_de_la_respuesta__c = 'Pablo';
        answer33.Respuesta__c = 'Pablo';
        lstAnswers.add(answer33);
        Respuesta_encuesta__c answer34 = new Respuesta_encuesta__c();
        answer34.Encuesta__c = survey.Id;
        answer34.Titulo__c = 'qp0044';
        answer34.Codigo_de_pregunta__c = '';
        answer34.Codigo_de_la_respuesta__c = 'Pablo';
        answer34.Respuesta__c = 'Pablo';
        lstAnswers.add(answer34);
        Respuesta_encuesta__c answer35 = new Respuesta_encuesta__c();
        answer35.Encuesta__c = survey.Id;
        answer35.Titulo__c = 'qcs0044';
        answer35.Codigo_de_pregunta__c = '';
        answer35.Codigo_de_la_respuesta__c = 'Pablo';
        answer35.Respuesta__c = 'Pablo';
        lstAnswers.add(answer35);
        insert lstAnswers;
        //CEM-Manuales VOLKSWAGEN Venta
        Encuesta__c survey1  = CreaObjetos.creaEncuesta('1', 'VOLKSWAGEN', null, conce.Id, null, gEncuesta.id,'CEM_Manuales');
        survey1.Tipo_Encuesta__c='Externo';
        insert survey1;
        List<Respuesta_encuesta__c> lstAnswers1 = new List<Respuesta_encuesta__c>();
        Respuesta_encuesta__c answerb = new Respuesta_encuesta__c();
        answerb.Encuesta__c = survey1.Id;
        answerb.Titulo__c = 'q003';
        answerb.Codigo_de_pregunta__c = '';
        answerb.Codigo_de_la_respuesta__c = '';
        answerb.Respuesta__c = survey1.Id;
        lstAnswers1.add(answerb);
        Respuesta_encuesta__c answer1b = new Respuesta_encuesta__c();
        answer1b.Encuesta__c = survey1.Id;
        answer1b.Titulo__c = 'q001';
        answer1b.Codigo_de_pregunta__c = '';
        answer1b.Codigo_de_la_respuesta__c = 'Yep';
        answer1b.Respuesta__c = 'Yep';
        lstAnswers1.add(answer1b);
        Respuesta_encuesta__c answer2b = new Respuesta_encuesta__c();
        answer2b.Encuesta__c = survey1.Id;
        answer2b.Titulo__c = 'q002';
        answer2b.Codigo_de_pregunta__c = '';
        answer2b.Codigo_de_la_respuesta__c = 'Nope';
        answer2b.Respuesta__c = 'Nope';
        lstAnswers1.add(answer2b);
        Respuesta_encuesta__c answer3b = new Respuesta_encuesta__c();
        answer3b.Encuesta__c = survey1.Id;
        answer3b.Titulo__c = 'Qversion';
        answer3b.Codigo_de_pregunta__c = '';
        answer3b.Codigo_de_la_respuesta__c = 'v001';
        answer3b.Respuesta__c = 'v001';
        lstAnswers1.add(answer3b);
        insert lstAnswers1;
        //CEM VOLKSWAGEN Pase de taller
        Encuesta__c survey2  = CreaObjetos.creaEncuesta('2', 'VOLKSWAGEN', cliente.Id, conce.Id, null, gEncuesta.id, 'CEM');
        survey2.Tipo_de_Operacion__c='Pase de taller';
        insert survey2;
        List<Respuesta_encuesta__c> lstAnswers2 = new List<Respuesta_encuesta__c>();
        Respuesta_encuesta__c answerc = new Respuesta_encuesta__c();
        answerc.Encuesta__c = survey.Id;
        answerc.Titulo__c = 'q001';
        answerc.Codigo_de_pregunta__c = '';
        answerc.Codigo_de_la_respuesta__c = '';
        answerc.Respuesta__c = survey.Id;
        lstAnswers2.add(answerc);
        Respuesta_encuesta__c answer1c = new Respuesta_encuesta__c();
        answer1c.Encuesta__c = survey.Id;
        answer1c.Titulo__c = 'q001a';
        answer1c.Codigo_de_pregunta__c = '';
        answer1c.Codigo_de_la_respuesta__c = '';
        answer1c.Respuesta__c = survey.Id;
        lstAnswers2.add(answer1c);
        Respuesta_encuesta__c answer2c = new Respuesta_encuesta__c();
        answer2c.Encuesta__c = survey.Id;
        answer2c.Titulo__c = 'q001a_na';
        answer2c.Codigo_de_pregunta__c = '';
        answer2c.Codigo_de_la_respuesta__c = '';
        answer2c.Respuesta__c = survey.Id;
        lstAnswers2.add(answer2c);
        Respuesta_encuesta__c answer3c = new Respuesta_encuesta__c();
        answer3c.Encuesta__c = survey.Id;
        answer3c.Titulo__c = 'q001a_coded';
        answer3c.Codigo_de_pregunta__c = '';
        answer3c.Codigo_de_la_respuesta__c = '';
        answer3c.Respuesta__c = survey.Id;
        lstAnswers2.add(answer3c);
        Respuesta_encuesta__c answer4c = new Respuesta_encuesta__c();
        answer4c.Encuesta__c = survey.Id;
        answer4c.Titulo__c = 'q002';
        answer4c.Codigo_de_pregunta__c = '';
        answer4c.Codigo_de_la_respuesta__c = '';
        answer4c.Respuesta__c = survey.Id;
        lstAnswers2.add(answer4c);
        Respuesta_encuesta__c answer5c = new Respuesta_encuesta__c();
        answer5c.Encuesta__c = survey.Id;
        answer5c.Titulo__c = 'q002a';
        answer5c.Codigo_de_pregunta__c = '';
        answer5c.Codigo_de_la_respuesta__c = '';
        answer5c.Respuesta__c = survey.Id;
        lstAnswers2.add(answer5c);
        Respuesta_encuesta__c answer6c = new Respuesta_encuesta__c();
        answer6c.Encuesta__c = survey.Id;
        answer6c.Titulo__c = 'q002a_na';
        answer6c.Codigo_de_pregunta__c = '';
        answer6c.Codigo_de_la_respuesta__c = '';
        answer6c.Respuesta__c = survey.Id;
        lstAnswers2.add(answer6c);
        Respuesta_encuesta__c answer7c = new Respuesta_encuesta__c();
        answer7c.Encuesta__c = survey.Id;
        answer7c.Titulo__c = 'q002a_coded';
        answer7c.Codigo_de_pregunta__c = '';
        answer7c.Codigo_de_la_respuesta__c = '';
        answer7c.Respuesta__c = survey.Id;
        lstAnswers2.add(answer7c);
        Respuesta_encuesta__c answer8c = new Respuesta_encuesta__c();
        answer8c.Encuesta__c = survey.Id;
        answer8c.Titulo__c = 'q003';
        answer8c.Codigo_de_pregunta__c = '';
        answer8c.Codigo_de_la_respuesta__c = '';
        answer8c.Respuesta__c = survey.Id;
        lstAnswers2.add(answer8c);
        Respuesta_encuesta__c answer9c = new Respuesta_encuesta__c();
        answer9c.Encuesta__c = survey.Id;
        answer9c.Titulo__c = 'q003a';
        answer9c.Codigo_de_pregunta__c = '';
        answer9c.Codigo_de_la_respuesta__c = '';
        answer9c.Respuesta__c = survey.Id;
        lstAnswers2.add(answer9c);
        Respuesta_encuesta__c answer10c = new Respuesta_encuesta__c();
        answer10c.Encuesta__c = survey.Id;
        answer10c.Titulo__c = 'q003a_na';
        answer10c.Codigo_de_pregunta__c = '';
        answer10c.Codigo_de_la_respuesta__c = '';
        answer10c.Respuesta__c = 'Yep';
        lstAnswers2.add(answer10c);
        Respuesta_encuesta__c answer11c = new Respuesta_encuesta__c();
        answer11c.Encuesta__c = survey.Id;
        answer11c.Titulo__c = 'q003a_coded';
        answer11c.Codigo_de_pregunta__c = '';
        answer11c.Codigo_de_la_respuesta__c = '';
        answer11c.Respuesta__c = 'Nope';
        lstAnswers2.add(answer11c);
        Respuesta_encuesta__c answer12c = new Respuesta_encuesta__c();
        answer12c.Encuesta__c = survey.Id;
        answer12c.Titulo__c = 'q004';
        answer12c.Codigo_de_pregunta__c = '';
        answer12c.Codigo_de_la_respuesta__c = '';
        answer12c.Respuesta__c = 'Nope';
        lstAnswers2.add(answer12c);
        Respuesta_encuesta__c answer13c = new Respuesta_encuesta__c();
        answer13c.Encuesta__c = survey.Id;
        answer13c.Titulo__c = 'q004a';
        answer13c.Codigo_de_pregunta__c = '';
        answer13c.Codigo_de_la_respuesta__c = '';
        answer13c.Respuesta__c = 'Nope';
        lstAnswers2.add(answer13c);
        Respuesta_encuesta__c answer14c = new Respuesta_encuesta__c();
        answer14c.Encuesta__c = survey.Id;
        answer14c.Titulo__c = 'q004a_na';
        answer14c.Codigo_de_pregunta__c = '';
        answer14c.Codigo_de_la_respuesta__c = '';
        answer14c.Respuesta__c = 'Nope';
        lstAnswers2.add(answer14c);
        Respuesta_encuesta__c answer15c = new Respuesta_encuesta__c();
        answer15c.Encuesta__c = survey.Id;
        answer15c.Titulo__c = 'q004a_coded';
        answer15c.Codigo_de_pregunta__c = '';
        answer15c.Codigo_de_la_respuesta__c = '';
        answer15c.Respuesta__c = 'v001';
        lstAnswers2.add(answer15c);
        Respuesta_encuesta__c answer16c = new Respuesta_encuesta__c();
        answer16c.Encuesta__c = survey.Id;
        answer16c.Titulo__c = 'q004b';
        answer16c.Codigo_de_pregunta__c = '';
        answer16c.Codigo_de_la_respuesta__c = '1';
        answer16c.Respuesta__c = 'v001';
        lstAnswers2.add(answer16c);
        Respuesta_encuesta__c answer17c = new Respuesta_encuesta__c();
        answer17c.Encuesta__c = survey.Id;
        answer17c.Titulo__c = 'q004b_na';
        answer17c.Codigo_de_pregunta__c = '';
        answer17c.Codigo_de_la_respuesta__c = 'Pablo';
        answer17c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer17c);
        Respuesta_encuesta__c answer18c = new Respuesta_encuesta__c();
        answer18c.Encuesta__c = survey.Id;
        answer18c.Titulo__c = 'q004b_coded';
        answer18c.Codigo_de_pregunta__c = '';
        answer18c.Codigo_de_la_respuesta__c = 'Pablo';
        answer18c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer18c);
        Respuesta_encuesta__c answer19c = new Respuesta_encuesta__c();
        answer19c.Encuesta__c = survey.Id;
        answer19c.Titulo__c = 'q005';
        answer19c.Codigo_de_pregunta__c = '';
        answer19c.Codigo_de_la_respuesta__c = 'Pablo';
        answer19c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer19c);
        Respuesta_encuesta__c answer20c = new Respuesta_encuesta__c();
        answer20c.Encuesta__c = survey.Id;
        answer20c.Titulo__c = 's001';
        answer20c.Codigo_de_pregunta__c = '';
        answer20c.Codigo_de_la_respuesta__c = 'Pablo';
        answer20c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer20c);
        Respuesta_encuesta__c answer21c = new Respuesta_encuesta__c();
        answer21c.Encuesta__c = survey.Id;
        answer21c.Titulo__c = 's002';
        answer21c.Codigo_de_pregunta__c = '';
        answer21c.Codigo_de_la_respuesta__c = 'Pablo';
        answer21c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer21c);
        Respuesta_encuesta__c answer22c = new Respuesta_encuesta__c();
        answer22c.Encuesta__c = survey.Id;
        answer22c.Titulo__c = 's003';
        answer22c.Codigo_de_pregunta__c = '';
        answer22c.Codigo_de_la_respuesta__c = 'Pablo';
        answer22c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer22c);
        Respuesta_encuesta__c answer23c = new Respuesta_encuesta__c();
        answer23c.Encuesta__c = survey.Id;
        answer23c.Titulo__c = 's003_na';
        answer23c.Codigo_de_pregunta__c = '';
        answer23c.Codigo_de_la_respuesta__c = 'Pablo';
        answer23c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer23c);
        Respuesta_encuesta__c answer24c = new Respuesta_encuesta__c();
        answer24c.Encuesta__c = survey.Id;
        answer24c.Titulo__c = 's004';
        answer24c.Codigo_de_pregunta__c = '';
        answer24c.Codigo_de_la_respuesta__c = 'Pablo';
        answer24c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer24c);
        Respuesta_encuesta__c answer25c = new Respuesta_encuesta__c();
        answer25c.Encuesta__c = survey.Id;
        answer25c.Titulo__c = 'qp001';
        answer25c.Codigo_de_pregunta__c = '';
        answer25c.Codigo_de_la_respuesta__c = 'Pablo';
        answer25c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer25c);
        Respuesta_encuesta__c answer26c = new Respuesta_encuesta__c();
        answer26c.Encuesta__c = survey.Id;
        answer26c.Titulo__c = 'qp002';
        answer26c.Codigo_de_pregunta__c = '';
        answer26c.Codigo_de_la_respuesta__c = 'Pablo';
        answer26c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer26c);
        Respuesta_encuesta__c answer27c = new Respuesta_encuesta__c();
        answer27c.Encuesta__c = survey.Id;
        answer27c.Titulo__c = 'qp003';
        answer27c.Codigo_de_pregunta__c = '';
        answer27c.Codigo_de_la_respuesta__c = 'Pablo';
        answer27c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer27c);
        Respuesta_encuesta__c answer28c = new Respuesta_encuesta__c();
        answer28c.Encuesta__c = survey.Id;
        answer28c.Titulo__c = 'qp003_coded';
        answer28c.Codigo_de_pregunta__c = '';
        answer28c.Codigo_de_la_respuesta__c = 'Pablo';
        answer28c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer28c);
        Respuesta_encuesta__c answer29c = new Respuesta_encuesta__c();
        answer29c.Encuesta__c = survey.Id;
        answer29c.Titulo__c = 'qp003_na';
        answer29c.Codigo_de_pregunta__c = '';
        answer29c.Codigo_de_la_respuesta__c = 'Pablo';
        answer29c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer29c);
        Respuesta_encuesta__c answer30c = new Respuesta_encuesta__c();
        answer30c.Encuesta__c = survey.Id;
        answer30c.Titulo__c = 's001_na';
        answer30c.Codigo_de_pregunta__c = '';
        answer30c.Codigo_de_la_respuesta__c = 'Pablo';
        answer30c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer30c);
        Respuesta_encuesta__c answer31c = new Respuesta_encuesta__c();
        answer31c.Encuesta__c = survey.Id;
        answer31c.Titulo__c = 'qp0041';
        answer31c.Codigo_de_pregunta__c = '';
        answer31c.Codigo_de_la_respuesta__c = 'Pablo';
        answer31c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer31c);
        Respuesta_encuesta__c answer32c = new Respuesta_encuesta__c();
        answer32c.Encuesta__c = survey.Id;
        answer32c.Titulo__c = 'qp0042';
        answer32c.Codigo_de_pregunta__c = '';
        answer32c.Codigo_de_la_respuesta__c = 'Pablo';
        answer32c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer32c);
        Respuesta_encuesta__c answer33c = new Respuesta_encuesta__c();
        answer33c.Encuesta__c = survey.Id;
        answer33c.Titulo__c = 'qp0043';
        answer33c.Codigo_de_pregunta__c = '';
        answer33c.Codigo_de_la_respuesta__c = 'Pablo';
        answer33c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer33c);
        Respuesta_encuesta__c answer34c = new Respuesta_encuesta__c();
        answer34c.Encuesta__c = survey.Id;
        answer34c.Titulo__c = 'qp0044';
        answer34c.Codigo_de_pregunta__c = '';
        answer34c.Codigo_de_la_respuesta__c = 'Pablo';
        answer34c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer34c);
        Respuesta_encuesta__c answer35c = new Respuesta_encuesta__c();
        answer35c.Encuesta__c = survey.Id;
        answer35c.Titulo__c = 'qcs0044';
        answer35c.Codigo_de_pregunta__c = '';
        answer35c.Codigo_de_la_respuesta__c = 'Pablo';
        answer35c.Respuesta__c = 'Pablo';
        lstAnswers2.add(answer35c);
        insert lstAnswers2;
        //CEM-Manuales VOLKSWAGEN Venta
        Encuesta__c survey3  = CreaObjetos.creaEncuesta('1', 'VOLKSWAGEN', null, conce.Id, null, gEncuesta.id,'CEM_Manuales');
        survey3.Tipo_Encuesta__c='Externo';
        survey3.Tipo_de_Operacion__c='Pase de taller';
        insert survey3;
        List<Respuesta_encuesta__c> lstAnswers3 = new List<Respuesta_encuesta__c>();
        Respuesta_encuesta__c answerd = new Respuesta_encuesta__c();
        answerd.Encuesta__c = survey3.Id;
        answerd.Titulo__c = 'q003';
        answerd.Codigo_de_pregunta__c = '';
        answerd.Codigo_de_la_respuesta__c = '';
        answerd.Respuesta__c = survey3.Id;
        lstAnswers3.add(answerd);
        Respuesta_encuesta__c answer1d = new Respuesta_encuesta__c();
        answer1d.Encuesta__c = survey3.Id;
        answer1d.Titulo__c = 'q001';
        answer1d.Codigo_de_pregunta__c = '';
        answer1d.Codigo_de_la_respuesta__c = 'Yep';
        answer1d.Respuesta__c = 'Yep';
        lstAnswers3.add(answer1d);
        Respuesta_encuesta__c answer2d = new Respuesta_encuesta__c();
        answer2d.Encuesta__c = survey3.Id;
        answer2d.Titulo__c = 'q002';
        answer2d.Codigo_de_pregunta__c = '';
        answer2d.Codigo_de_la_respuesta__c = 'Nope';
        answer2d.Respuesta__c = 'Nope';
        lstAnswers3.add(answer2d);
        Respuesta_encuesta__c answer3d = new Respuesta_encuesta__c();
        answer3d.Encuesta__c = survey3.Id;
        answer3d.Titulo__c = 'Qversion';
        answer3d.Codigo_de_pregunta__c = '';
        answer3d.Codigo_de_la_respuesta__c = 'v001';
        answer3d.Respuesta__c = 'v001';
        lstAnswers3.add(answer3d);
        insert lstAnswers3;
        Test.startTest();
        Database.executeBatch(new SendSurveyCEMBatch('VOLKSWAGEN','YESTERDAY'));
        test.stopTest();

    }
    @isTest 
    static void testBatchSkoda() {
        //SKODA
        Account cliente = CreaObjetos.creaCuentaPersonal('pruebaHYUNDAI', 'pruebaHYUNDAI');
        insert cliente;
        Concesionario__c conce = CreaObjetos.creaConcesionario('170');
        insert conce;
        Centro__c centro = CreaObjetos.creaCentro(conce.Id);
        Gestion_encuesta__c gEncuesta = CreaObjetos.creaGestionEncuesta('HYUNDAI', centro.Id, conce.Id);
        insert gEncuesta;
        //Externa SKODA Venta
        Encuesta__c survey  = CreaObjetos.creaEncuesta('1', 'HYUNDAI', cliente.Id, conce.Id, null, gEncuesta.id, 'Externa');
        insert survey;
        //Externa SKODA Pase de taller
        Encuesta__c survey2  = CreaObjetos.creaEncuesta('1', 'HYUNDAI', cliente.Id, conce.Id, null, gEncuesta.id, 'Externa');
        survey2.Tipo_de_Operacion__c='Pase de taller';
        insert survey2;
        Test.startTest();
        Database.executeBatch(new SendSurveyCEMBatch('HYUNDAI1','YESTERDAY'));
        test.stopTest();
    }
}